from flask import Flask, render_template, jsonify

app = Flask(__name__)

# Datos del grafo
# Primero, procesamos los datos para extraer nodos y conexiones
data = """
Codigo: 00200222 codigos_hijos:['21200222', '12200222', '00120222', '00010222', '00201022', '00202122', '00200210', '00200201']
Codigo: 21200222 codigos_hijos:['00200222', '21120222', '21010222', '21201022', '21200210', '21200201']
Codigo: 21120222 codigos_hijos:['00120222', '21000222', '21200222', '21121022', '21120210', '21120201']
Codigo: 21000222 codigos_hijos:['21120222', '21001022', '21000210', '21000201']
Codigo: 21001022 codigos_hijos:['02001022', '21121022', '21000222', '21001001']
Codigo: 02001022 codigos_hijos:['21001022', '02211022', '02121022', '02001001']
Codigo: 02211022 codigos_hijos:['02001022', '02211001']
Codigo: 02211001 codigos_hijos:['02001001', '02212201', '02211020', '02211022']
Codigo: 02212201 codigos_hijos:['10212201', '02002201', '02211001', '02212220']
Codigo: 10212201 codigos_hijos:['02212201', '10002201', '10022201', '10212220']
Codigo: 10022201 codigos_hijos:['10212201', '10022220']
Codigo: 10022220 codigos_hijos:['10212220', '10020120', '10022212', '10022201']
Codigo: 10020120 codigos_hijos:['22020120', '10210120', '10022220', '10020112']
Codigo: 22020120 codigos_hijos:['10020120', '22100120', '22210120', '22020112']
Codigo: 22100120 codigos_hijos:['22020120', '22100112']
Codigo: 22100112 codigos_hijos:['22020112', '22102012', '22100100', '22100120']
Codigo: 22102012 codigos_hijos:['01102012', '22022012', '22100112', '22102000']
Codigo: 22100100 codigos_hijos:['22020100', '22102000', '22100121', '22100112']
Codigo: 22020112 codigos_hijos:['10020112', '22100112', '22210112', '22022012', '22020100', '22020120']
Codigo: 22022012 codigos_hijos:['10022012', '01022012', '22102012', '22212012', '22020112', '22022000']
Codigo: 01022012 codigos_hijos:['22022012', '01102012', '01212012', '01022000']
Codigo: 22022000 codigos_hijos: []
Codigo: 22020100 codigos_hijos:['10020100', '22100100', '22210100', '22022000', '22020121', '22020112']
Codigo: 22020121 codigos_hijos:['10020121', '22100121', '22022021', '22020100']
Codigo: 10020112 codigos_hijos:['22020112', '10210112', '10022012', '10022212', '10020100', '10020120']
Codigo: 10022012 codigos_hijos:['22022012', '10212012', '10020112', '10022000']
Codigo: 10022000 codigos_hijos:['22022000', '10212000', '10021200', '10020100', '10022021', '10022012']
Codigo: 10021200 codigos_hijos:['22021200', '10211200', '10022000', '10021221']
Codigo: 10022021 codigos_hijos:['22022021', '10021221', '10020121', '10022000']
Codigo: 10020100 codigos_hijos:['22020100', '10210100', '10022000', '10022200', '10020121', '10020112']
Codigo: 10020121 codigos_hijos:['22020121', '10022021', '10022221', '10020100']
Codigo: 10022212 codigos_hijos:['10212212', '10020112', '10022200', '10022220']
Codigo: 10022200 codigos_hijos:['10212200', '10020100', '10022221', '10022212']
Codigo: 10022221 codigos_hijos:['10020121', '10022200']
Codigo: 10212220 codigos_hijos:['02212220', '10002220', '10022220', '10210120', '10212212', '10212201']
Codigo: 10210120 codigos_hijos:['22210120', '02210120', '10000120', '10020120', '10212220', '10210112']
Codigo: 22210120 codigos_hijos:['10210120', '22000120', '22020120', '22210112']
Codigo: 22210112 codigos_hijos:['10210112', '22000112', '22020112', '22212012', '22210100', '22210120']
Codigo: 22212012 codigos_hijos:['10212012', '01212012', '22002012', '22022012', '22210112', '22212000']
Codigo: 01212012 codigos_hijos:['22212012', '01002012', '01022012', '01212000']
Codigo: 01212000 codigos_hijos:['22212000', '01022000', '01211200', '01212012']
Codigo: 22212000 codigos_hijos:['10212000', '01212000', '22022000', '22211200', '22210100', '22212012']
Codigo: 22211200 codigos_hijos:['10211200', '01211200', '22021200', '22212000']
Codigo: 22210100 codigos_hijos:['10210100', '22020100', '22212000', '22210112']
Codigo: 10210112 codigos_hijos:['22210112', '02210112', '10000112', '10020112', '10212012', '10212212', '10210100', '10210120']
Codigo: 10212012 codigos_hijos:['22212012', '02212012', '10002012', '10022012', '10210112', '10212000']
Codigo: 10212000 codigos_hijos:['22212000', '02212000', '10022000', '10211200', '10210100', '10212012']
Codigo: 10211200 codigos_hijos:['22211200', '02211200', '10021200', '10212000']
Codigo: 10210100 codigos_hijos:['22210100', '02210100', '10020100', '10212000', '10212200', '10210112']
Codigo: 10212212 codigos_hijos:['02212212', '10002212', '10022212', '10210112', '10212200', '10212220']
Codigo: 10212200 codigos_hijos:['02212200', '10022200', '10210100', '10212212']
Codigo: 02212220 codigos_hijos:['10212220', '02002220', '02211020', '02210120', '02212212', '02212201']
Codigo: 02210120 codigos_hijos:['10210120', '02000120', '02212220', '02210112']
Codigo: 02210112 codigos_hijos:['10210112', '02000112', '02212012', '02212212', '02210100', '02210120']
Codigo: 02212012 codigos_hijos:['10212012', '02002012', '02210112', '02212000']
Codigo: 02212000 codigos_hijos:['10212000', '02211200', '02210100', '02212012']
Codigo: 02211200 codigos_hijos:['10211200', '02212000']
Codigo: 02210100 codigos_hijos:['10210100', '02212000', '02212200', '02210112']
Codigo: 02212212 codigos_hijos:['10212212', '02002212', '02211012', '02210112', '02212200', '02212220']
Codigo: 02212200 codigos_hijos:['10212200', '02211000', '02210100', '02212212']
Codigo: 02211020 codigos_hijos:['02001020', '02212220', '02211012', '02211001']
Codigo: 02211012 codigos_hijos:['02001012', '02212212', '02211000', '02211020']
Codigo: 02211000 codigos_hijos:['02212200', '02211012']
Codigo: 02001001 codigos_hijos:['21001001', '02211001', '02121001', '02002201', '02001020', '02001022']
Codigo: 02002201 codigos_hijos:['10002201', '21002201', '02212201', '02122201', '02001001', '02002220']
Codigo: 10002201 codigos_hijos:['02002201', '10212201', '10122201', '10002220']
Codigo: 10002220 codigos_hijos:['02002220', '10212220', '10122220', '10000120', '10002212', '10002201']
Codigo: 10000120 codigos_hijos:['22000120', '02000120', '10210120', '10120120', '10002220', '10000112']
Codigo: 22000120 codigos_hijos:['10000120', '22210120', '22120120', '22000112']
Codigo: 22000112 codigos_hijos:['10000112', '22210112', '22002012', '22000120']
Codigo: 22002012 codigos_hijos:['10002012', '01002012', '22212012', '22000112']
Codigo: 01002012 codigos_hijos:['22002012', '01212012']
Codigo: 10000112 codigos_hijos:['22000112', '02000112', '10210112', '10002012', '10002212', '10000120']
Codigo: 10002012 codigos_hijos:['22002012', '02002012', '10212012', '10000112']
Codigo: 10002212 codigos_hijos:['02002212', '10212212', '10000112', '10002220']
Codigo: 02002220 codigos_hijos:['10002220', '21002220', '02212220', '02122220', '02001020', '02000120', '02002212', '02002201']
Codigo: 02000120 codigos_hijos:['10000120', '21000120', '02210120', '02120120', '02002220', '02000112']
Codigo: 02000112 codigos_hijos:['10000112', '21000112', '02210112', '02002012', '02002212', '02000120']
Codigo: 02002012 codigos_hijos:['10002012', '21002012', '02212012', '02000112']
Codigo: 02002212 codigos_hijos:['10002212', '21002212', '02212212', '02001012', '02000112', '02002220']
Codigo: 02001020 codigos_hijos:['21001020', '02211020', '02121020', '02002220', '02001012', '02001001']
Codigo: 02001012 codigos_hijos:['21001012', '02211012', '02002212', '02001020']
Codigo: 21001001 codigos_hijos:['02001001', '21121001', '21002201', '21000201', '21001020', '21001022']
Codigo: 21002201 codigos_hijos:['02002201', '21122201', '21001001', '21002220']
Codigo: 21002220 codigos_hijos:['02002220', '21122220', '21001020', '21000120', '21002212', '21002201']
Codigo: 21000120 codigos_hijos:['02000120', '21120120', '21002220', '21000112']
Codigo: 21000112 codigos_hijos:['02000112', '21002012', '21002212', '21000120']
Codigo: 21002012 codigos_hijos:['02002012', '21000112']
Codigo: 21002212 codigos_hijos:['02002212', '21001012', '21000112', '21002220']
Codigo: 21001020 codigos_hijos:['02001020', '21121020', '21002220', '21000220', '21001012', '21001001']
Codigo: 21001012 codigos_hijos:['02001012', '21002212', '21000212', '21001020']
Codigo: 21000210 codigos_hijos:['21120210', '21000222']
Codigo: 21000201 codigos_hijos:['21120201', '21001001', '21000220', '21000222']
Codigo: 21000220 codigos_hijos:['21120220', '21001020', '21000212', '21000201']
Codigo: 21000212 codigos_hijos:['21001012', '21000220']
Codigo: 21121022 codigos_hijos:['00121022', '02121022', '21001022', '21201022', '21120222', '21121001']
Codigo: 02121022 codigos_hijos:['21121022', '02001022', '02201022', '02121001']
Codigo: 02121001 codigos_hijos:['21121001', '02001001', '02201001', '02122201', '02121020', '02121022']
Codigo: 02122201 codigos_hijos:['10122201', '21122201', '02002201', '02202201', '02121001', '02122220']
Codigo: 10122201 codigos_hijos:['02122201', '10002201', '10202201', '10122220']
Codigo: 10122220 codigos_hijos:['02122220', '10002220', '10120120', '10122201']
Codigo: 10120120 codigos_hijos:['22120120', '02120120', '10000120', '10122220']
Codigo: 22120120 codigos_hijos:['10120120', '22000120']
Codigo: 02122220 codigos_hijos:['10122220', '21122220', '02002220', '02121020', '02120120', '02122201']
Codigo: 02120120 codigos_hijos:['10120120', '21120120', '02000120', '02122220']
Codigo: 02121020 codigos_hijos:['21121020', '02001020', '02122220', '02121001']
Codigo: 21121001 codigos_hijos:['00121001', '02121001', '21001001', '21201001', '21122201', '21120201', '21121020', '21121022']
Codigo: 21122201 codigos_hijos:['00122201', '02122201', '21002201', '21202201', '21121001', '21122220']
Codigo: 21122220 codigos_hijos:['00122220', '02122220', '21002220', '21121020', '21120120', '21122201']
Codigo: 21120120 codigos_hijos:['00120120', '02120120', '21000120', '21122220']
Codigo: 21121020 codigos_hijos:['00121020', '02121020', '21001020', '21122220', '21120220', '21121001']
Codigo: 21120210 codigos_hijos:['00120210', '21000210', '21200210', '21120222']
Codigo: 21120201 codigos_hijos:['00120201', '21000201', '21200201', '21121001', '21120220', '21120222']
Codigo: 21120220 codigos_hijos:['00120220', '21000220', '21121020', '21120201']
Codigo: 21010222 codigos_hijos:['00010222', '21200222', '21011022', '21010210']
Codigo: 21011022 codigos_hijos:['00011022', '02011022', '21201022', '21010222']
Codigo: 02011022 codigos_hijos:['21011022', '02201022']
Codigo: 21010210 codigos_hijos:['00010210', '21200210', '21220210', '21010222']
Codigo: 21220210 codigos_hijos:['00220210', '21010210']
Codigo: 21201022 codigos_hijos:['00201022', '02201022', '21121022', '21011022', '21200222', '21201001']
Codigo: 02201022 codigos_hijos:['21201022', '02121022', '02011022', '02201001']
Codigo: 02201001 codigos_hijos:['21201001', '02121001', '02202201', '02201022']
Codigo: 02202201 codigos_hijos:['10202201', '21202201', '02122201', '02201001']
Codigo: 10202201 codigos_hijos:['02202201', '10122201']
Codigo: 21201001 codigos_hijos:['00201001', '02201001', '21121001', '21202201', '21200201', '21201022']
Codigo: 21202201 codigos_hijos:['00202201', '02202201', '21122201', '21201001']
Codigo: 21200210 codigos_hijos:['00200210', '21120210', '21010210', '21200222']
Codigo: 21200201 codigos_hijos:['00200201', '21120201', '21201001', '21200222']
Codigo: 12200222 codigos_hijos:['00200222', '12010222', '12201022', '12202122', '12200210', '12200201']
Codigo: 12010222 codigos_hijos:['00010222', '20010222', '12200222', '12011022', '12012122', '12010210']
Codigo: 20010222 codigos_hijos:['12010222', '20011022', '20012122', '20010210']
Codigo: 20011022 codigos_hijos:['12011022', '20010222']
Codigo: 20012122 codigos_hijos:['12012122', '20010022', '20010222', '20012110']
Codigo: 20010022 codigos_hijos:['12010022', '20012122', '20011222', '20010010']
Codigo: 20011222 codigos_hijos:['20010022', '20011210']
Codigo: 20011210 codigos_hijos:['20221210', '20010010', '20011222', '20011202']
Codigo: 20221210 codigos_hijos:['01221210', '20011210', '20220010', '20221202']
Codigo: 01221210 codigos_hijos:['20221210', '01220010', '01222010', '01221202']
Codigo: 01222010 codigos_hijos:['01221210', '01222002']
Codigo: 01222002 codigos_hijos:['01102002', '01221202', '01222010', '01222021']
Codigo: 01102002 codigos_hijos:['22102002', '01222002', '01101202', '01102021']
Codigo: 22102002 codigos_hijos:['01102002', '22101202', '22100102', '22102021']
Codigo: 22100102 codigos_hijos:['22102002', '22100121']
Codigo: 22100121 codigos_hijos:['22020121', '22102021', '22100100', '22100102']
Codigo: 22102021 codigos_hijos:['01102021', '22022021', '22101221', '22100121', '22102000', '22102002']
Codigo: 22022021 codigos_hijos:['10022021', '01022021', '22102021', '22021221', '22020121', '22022000']
Codigo: 22102000 codigos_hijos:['01102000', '22022000', '22101200', '22100100', '22102021', '22102012']
Codigo: 01102021 codigos_hijos:['22102021', '01222021', '01022021', '01101221', '01102000', '01102002']
Codigo: 01022021 codigos_hijos:['22022021', '01102021', '01021221', '01022000']
Codigo: 01022000 codigos_hijos:['22022000', '01102000', '01212000', '01021200', '01022021', '01022012']
Codigo: 01102000 codigos_hijos:['22102000', '01222000', '01022000', '01101200', '01102021', '01102012']
Codigo: 01102012 codigos_hijos:['22102012', '01222012', '01022012', '01102000']
Codigo: 01222021 codigos_hijos:['01102021', '01221221', '01222000', '01222002']
Codigo: 01222000 codigos_hijos:['01102000', '01221200', '01222021', '01222012']
Codigo: 01222012 codigos_hijos:['01102012', '01222000']
Codigo: 01221202 codigos_hijos:['20221202', '01101202', '01220002', '01222002', '01221210', '01221221']
Codigo: 01101202 codigos_hijos:['20101202', '22101202', '01221202', '01100002', '01102002', '01101221']
Codigo: 22101202 codigos_hijos:['01101202', '22100002', '22102002', '22101221']
Codigo: 22101221 codigos_hijos:['01101221', '22021221', '22100021', '22102021', '22101200', '22101202']
Codigo: 22021221 codigos_hijos:['10021221', '01021221', '22101221', '22020021', '22022021', '22021200']
Codigo: 10021221 codigos_hijos:['22021221', '10020021', '10022021', '10021200']
Codigo: 22021200 codigos_hijos:['10021200', '01021200', '22101200', '22211200', '22022000', '22021221']
Codigo: 22101200 codigos_hijos:['01101200', '22021200', '22102000', '22101221']
Codigo: 01101221 codigos_hijos:['20101221', '22101221', '01221221', '01021221', '01100021', '01102021', '01101200', '01101202']
Codigo: 01021221 codigos_hijos:['20021221', '22021221', '01101221', '01020021', '01022021', '01021200']
Codigo: 01021200 codigos_hijos:['20021200', '22021200', '01101200', '01211200', '01022000', '01021221']
Codigo: 01211200 codigos_hijos:['20211200', '22211200', '01021200', '01212000']
Codigo: 01101200 codigos_hijos:['20101200', '22101200', '01221200', '01021200', '01102000', '01101221']
Codigo: 01221221 codigos_hijos:['20221221', '01101221', '01220021', '01222021', '01221200', '01221202']
Codigo: 01221200 codigos_hijos:['20221200', '01101200', '01222000', '01221221']
Codigo: 20221202 codigos_hijos:['01221202', '20101202', '20011202', '20220002', '20221210', '20221221']
Codigo: 20101202 codigos_hijos:['01101202', '20221202', '20100002', '20101221']
Codigo: 20101221 codigos_hijos:['01101221', '20221221', '20021221', '20100021', '20101200', '20101202']
Codigo: 20021221 codigos_hijos:['01021221', '20101221', '20020021', '20021200']
Codigo: 20021200 codigos_hijos:['01021200', '20101200', '20211200', '20021221']
Codigo: 20211200 codigos_hijos:['01211200', '20021200']
Codigo: 20101200 codigos_hijos:['01101200', '20221200', '20021200', '20101221']
Codigo: 20221221 codigos_hijos:['01221221', '20101221', '20011221', '20220021', '20221200', '20221202']
Codigo: 20221200 codigos_hijos:['01221200', '20101200', '20011200', '20221221']
Codigo: 20011202 codigos_hijos:['20221202', '20010002', '20011210', '20011221']
Codigo: 20011221 codigos_hijos:['20221221', '20010021', '20011200', '20011202']
Codigo: 20011200 codigos_hijos:['20221200', '20011221']
Codigo: 20010010 codigos_hijos:['12010010', '20220010', '20012110', '20011210', '20010022', '20010002']
Codigo: 20220010 codigos_hijos:['12220010', '01220010', '20010010', '20222110', '20221210', '20220002']
Codigo: 01220010 codigos_hijos:['20220010', '01222110', '01221210', '01220002']
Codigo: 01220002 codigos_hijos:['20220002', '01100002', '01222102', '01221202', '01220010', '01220021']
Codigo: 01100002 codigos_hijos:['20100002', '22100002', '01220002', '01102102', '01101202', '01100021']
Codigo: 22100002 codigos_hijos:['01100002', '22102102', '22101202', '22100021']
Codigo: 22100021 codigos_hijos:['01100021', '22020021', '22101221', '22100002']
Codigo: 22020021 codigos_hijos:['10020021', '01020021', '22100021', '22021221']
Codigo: 10020021 codigos_hijos:['22020021', '10021221']
Codigo: 01100021 codigos_hijos:['20100021', '22100021', '01220021', '01020021', '01101221', '01100002']
Codigo: 01020021 codigos_hijos:['20020021', '22020021', '01100021', '01021221']
Codigo: 01220021 codigos_hijos:['20220021', '01100021', '01221221', '01220002']
Codigo: 20220002 codigos_hijos:['12220002', '01220002', '20100002', '20010002', '20222102', '20221202', '20220010', '20220021']
Codigo: 20100002 codigos_hijos:['12100002', '01100002', '20220002', '20102102', '20101202', '20100021']
Codigo: 20100021 codigos_hijos:['12100021', '01100021', '20220021', '20020021', '20101221', '20100002']
Codigo: 20020021 codigos_hijos:['12020021', '01020021', '20100021', '20021221']
Codigo: 20220021 codigos_hijos:['12220021', '01220021', '20100021', '20010021', '20221221', '20220002']
Codigo: 20010002 codigos_hijos:['12010002', '20220002', '20012102', '20011202', '20010010', '20010021']
Codigo: 20010021 codigos_hijos:['12010021', '20220021', '20011221', '20010002']
Codigo: 20012110 codigos_hijos:['12012110', '20222110', '20010010', '20010210', '20012122', '20012102']
Codigo: 20222110 codigos_hijos:['12222110', '01222110', '20012110', '20220010', '20220210', '20222102']
Codigo: 01222110 codigos_hijos:['20222110', '01220010', '01220210', '01222102']
Codigo: 01222102 codigos_hijos:['20222102', '01102102', '01220002', '01222110']
Codigo: 01102102 codigos_hijos:['20102102', '22102102', '01222102', '01100002']
Codigo: 22102102 codigos_hijos:['01102102', '22100002']
Codigo: 20222102 codigos_hijos:['12222102', '01222102', '20102102', '20012102', '20220002', '20222110']
Codigo: 20102102 codigos_hijos:['12102102', '01102102', '20222102', '20100002']
Codigo: 20012102 codigos_hijos:['12012102', '20222102', '20010002', '20012110']
Codigo: 20010210 codigos_hijos:['12010210', '20220210', '20012110', '20010222']
Codigo: 20220210 codigos_hijos:['12220210', '01220210', '20010210', '20222110']
Codigo: 01220210 codigos_hijos:['20220210', '01222110']
Codigo: 12011022 codigos_hijos:['00011022', '20011022', '12201022', '12010222']
Codigo: 12012122 codigos_hijos:['00012122', '20012122', '12202122', '12010022', '12010222', '12012110']
Codigo: 12010022 codigos_hijos:['20010022', '12200022', '12012122', '12010010']
Codigo: 12010010 codigos_hijos:['20010010', '12200010', '12220010', '12012110', '12010022', '12010002']
Codigo: 12220010 codigos_hijos:['20220010', '12010010', '12222110', '12220002']
Codigo: 12220002 codigos_hijos:['20220002', '12100002', '12010002', '12222102', '12220010', '12220021']
Codigo: 12100002 codigos_hijos:['20100002', '12220002', '12102102', '12100021']
Codigo: 12100021 codigos_hijos:['20100021', '12220021', '12020021', '12100002']
Codigo: 12020021 codigos_hijos:['20020021', '12100021']
Codigo: 12220021 codigos_hijos:['20220021', '12100021', '12010021', '12220002']
Codigo: 12010002 codigos_hijos:['20010002', '12200002', '12220002', '12012102', '12010010', '12010021']
Codigo: 12010021 codigos_hijos:['20010021', '12200021', '12220021', '12010002']
Codigo: 12012110 codigos_hijos:['00012110', '20012110', '12202110', '12222110', '12010010', '12010210', '12012122', '12012102']
Codigo: 12222110 codigos_hijos:['00222110', '20222110', '12012110', '12220010', '12220210', '12222102']
Codigo: 12222102 codigos_hijos:['00222102', '20222102', '12102102', '12012102', '12220002', '12222110']
Codigo: 12102102 codigos_hijos:['00102102', '20102102', '12222102', '12100002']
Codigo: 12012102 codigos_hijos:['00012102', '20012102', '12202102', '12222102', '12010002', '12012110']
Codigo: 12010210 codigos_hijos:['00010210', '20010210', '12200210', '12220210', '12012110', '12010222']
Codigo: 12220210 codigos_hijos:['00220210', '20220210', '12010210', '12222110']
Codigo: 12201022 codigos_hijos:['00201022', '12011022', '12200222', '12201001']
Codigo: 12201001 codigos_hijos:['00201001', '12202201', '12200201', '12201022']
Codigo: 12202201 codigos_hijos:['00202201', '12201001']
Codigo: 12202122 codigos_hijos:['00202122', '12012122', '12200022', '12200222', '12202110', '12202101']
Codigo: 12200022 codigos_hijos:['12010022', '12202122', '12200010', '12200001']
Codigo: 12200010 codigos_hijos:['12010010', '12202110', '12200022', '12200002']
Codigo: 12200002 codigos_hijos:['12010002', '12202102', '12200010', '12200021']
Codigo: 12200021 codigos_hijos:['12010021', '12200002']
Codigo: 12200001 codigos_hijos:['12202101', '12200022']
Codigo: 12202110 codigos_hijos:['00202110', '12012110', '12200010', '12200210', '12202122', '12202102']
Codigo: 12202102 codigos_hijos:['00202102', '12012102', '12200002', '12202110']
Codigo: 12202101 codigos_hijos:['00202101', '12200001', '12200201', '12202122']
Codigo: 12200210 codigos_hijos:['00200210', '12010210', '12202110', '12200222']
Codigo: 12200201 codigos_hijos:['00200201', '12201001', '12202101', '12200222']
Codigo: 00120222 codigos_hijos:['21120222', '00200222', '00121022', '00122122', '00120210', '00120201']
Codigo: 00121022 codigos_hijos:['21121022', '00201022', '00120222', '00121001']
Codigo: 00121001 codigos_hijos:['21121001', '00201001', '00122201', '00120201', '00121020', '00121022']
Codigo: 00122201 codigos_hijos:['21122201', '00202201', '00121001', '00122220']
Codigo: 00122220 codigos_hijos:['21122220', '00121020', '00120120', '00122201']
Codigo: 00120120 codigos_hijos:['21120120', '00122220']
Codigo: 00121020 codigos_hijos:['21121020', '00122220', '00120220', '00121001']
Codigo: 00122122 codigos_hijos:['00202122', '00120222', '00122110', '00122101']
Codigo: 00122110 codigos_hijos:['00202110', '00120210', '00122122', '00122102']
Codigo: 00122102 codigos_hijos:['00202102', '00122110']
Codigo: 00122101 codigos_hijos:['00202101', '00120201', '00122120', '00122122']
Codigo: 00122120 codigos_hijos:['00120220', '00122101']
Codigo: 00120210 codigos_hijos:['21120210', '00200210', '00122110', '00120222']
Codigo: 00120201 codigos_hijos:['21120201', '00200201', '00121001', '00122101', '00120220', '00120222']
Codigo: 00120220 codigos_hijos:['21120220', '00121020', '00122120', '00120201']
Codigo: 00010222 codigos_hijos:['21010222', '12010222', '00200222', '00011022', '00012122', '00010210']
Codigo: 00011022 codigos_hijos:['21011022', '12011022', '00201022', '00010222']
Codigo: 00012122 codigos_hijos:['12012122', '00202122', '00010222', '00012110']
Codigo: 00012110 codigos_hijos:['12012110', '00202110', '00222110', '00010210', '00012122', '00012102']
Codigo: 00222110 codigos_hijos:['12222110', '00012110', '00220210', '00222102']
Codigo: 00222102 codigos_hijos:['12222102', '00102102', '00012102', '00222110']
Codigo: 00102102 codigos_hijos:['12102102', '00222102']
Codigo: 00012102 codigos_hijos:['12012102', '00202102', '00222102', '00012110']
Codigo: 00010210 codigos_hijos:['21010210', '12010210', '00200210', '00220210', '00012110', '00010222']
Codigo: 00220210 codigos_hijos:['21220210', '12220210', '00010210', '00222110']
Codigo: 00201022 codigos_hijos:['21201022', '12201022', '00121022', '00011022', '00200222', '00201001']
Codigo: 00201001 codigos_hijos:['21201001', '12201001', '00121001', '00202201', '00200201', '00201022']
Codigo: 00202201 codigos_hijos:['21202201', '12202201', '00122201', '00201001']
Codigo: 00202122 codigos_hijos:['12202122', '00122122', '00012122', '00200222', '00202110', '00202101']
Codigo: 00202110 codigos_hijos:['12202110', '00122110', '00012110', '00200210', '00202122', '00202102']
Codigo: 00202102 codigos_hijos:['12202102', '00122102', '00012102', '00202110']
Codigo: 00202101 codigos_hijos:['12202101', '00122101', '00200201', '00202122']
Codigo: 00200210 codigos_hijos:['21200210', '12200210', '00120210', '00010210', '00202110', '00200222']
Codigo: 00200201 codigos_hijos:['21200201', '12200201', '00120201', '00201001', '00202101', '00200222']
"""

# Procesamiento de los datos
nodes = set()
links = []

# Dividir por líneas y procesar cada una
for line in data.strip().split('\n'):
    if not line:
        continue
    
    # Extraer código padre y códigos hijos
    parts = line.split(" codigos_hijos:")
    parent = parts[0].replace("Codigo: ", "").strip()
    children = eval(parts[1].strip())
    
    # Añadir nodo padre
    nodes.add(parent)
    
    # Añadir conexiones
    for child in children:
        nodes.add(child)
        links.append({"source": parent, "target": child, "value": 1})

# Convertir el set de nodos a una lista de diccionarios
nodes_list = [{"id": node, "group": i % 10 + 1} for i, node in enumerate(nodes)]

# Crear el diccionario graph_data
graph_data = {
    "nodes": nodes_list,
    "links": links
}


@app.route('/')
def index():
    return render_template('index.html')

@app.route('/graph-data')
def get_graph_data():
    return jsonify(graph_data)

if __name__ == '__main__':
    app.run(debug=True)